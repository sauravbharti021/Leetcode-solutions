class Solution {
public:
    int maxOperations(string s) {
        int n = s.size();
        vector<bool> prs(n, false);
        int flag = 0;
        for(int i=n-1;i>=0;i--){
            if(s[i]=='1'){
                if(flag){
                    prs[i] = true;
                    while(i>=0 && s[i]=='1'){
                        prs[i] = true;
                        i--;
                    }
                    i+=1;
                    flag = 0;
                }
            }else{
                flag = 1;
            }
        }

        int prevCount = 0;
        int ans = 0;
        for(int i=0;i<n;i++){
            int flag = 0;
            while(i<n && s[i]=='1'){
                flag = 1;
                prevCount+=1;
                i+=1;
            }

            if(flag){
                if(prs[i-1]){
                    ans+= prevCount;
                }
                i-=1;
            }
        }

        return ans;
    }
};
